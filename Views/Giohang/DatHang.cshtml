@using DoAnLapTrinhWeb.Models
@model List<Giohang>
@{
    ViewBag.Title = "DatHang";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="invoice-wrapper" id="print-area">
    <div class="invoice">
        <div class="invoice-container">
            <div class="invoice-head">
                <div class="invoice-head-top">
                    <div class="invoice-head-top-left text-start">
                        @*<img src="images/logo.png">*@
                        <div class="logo-nav-left animated wow zoomIn" data-wow-delay=".25s">
                            <h1><a href="@Url.Action("Index", "Home")">52Hz STUDIO <span style="font-size: 7px;"></span></a></h1>
                        </div>
                    </div>
                    <div class="invoice-head-top-right text-end">
                        <h3>Hóa Đơn Chi Tiết</h3>
                    </div>
                </div>
                <div class="hr"></div>
                <div class="invoice-head-middle">
                    <div class="invoice-head-middle-left text-start">
                        <p><span class="text-bold">Ngày đặt hàng</span>: @DateTime.Now</p>
                    </div>
                    <div class="invoice-head-middle-right text-end">
                        <p><spanf class="text-bold"></span></p>
                    </div>
                </div>
                @{
                    KhachHang kh = (KhachHang)Session["TaiKhoan"];
                }
                <div class="hr"></div>
                <div class="invoice-head-bottom">
                    <div class="invoice-head-bottom-left">
                        <ul>
                            <li class='text-bold'>Khách Hàng:</li>
                            <li>@kh.HoTen</li>
                            <li>@kh.DiachiKH</li>
                            <li>@kh.DienThoaiKH</li>
                            <li>@kh.Email</li>
                        </ul>
                    </div>
                    <div class="invoice-head-bottom-right">
                        <ul class="text-end">
                            <li class='text-bold'>Thanh toán cho đơn vị:</li>
                            <li>52Hz Studio</li>
                            <li>
                                433, Nguyễn Tất Thành, Q4

                            </li>
                            <li>Thành Phố Hồ Chí Minh.</li>
                            <li>52hzstudio@gmail.com</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="overflow-view">
                <div class="invoice-body">
                    <table>
                        <thead>
                            <tr>
                                <td class="text-bold">STT</td>
                                <td class="text-bold">Tên</td>
                                <td class="text-bold">Đơn Giá</td>
                                <td class="text-bold">Số Lượng</td>
                                <td class="text-bold">Thành Tiền</td>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                int count = 1;
                                double vat = 0;
                            }
                            @foreach (var item in Model)
                            {

                                <tr>
                                    <td>@count</td>
                                    <td>@item.sTenDAN</td>
                                    <td>@String.Format("{0:0,0}", item.dDongia)</td>
                                    <td>@String.Format("{0:0,0}", item.iSoLuong) </td>
                                    <td class="text-end">@String.Format("{0:0,0}", item.iSoLuong * item.dDongia) VNĐ</td>
                                </tr>
                                count++;
                                vat = ViewBag.TongTien * (8 / 100);
                            }

                            <!-- <tr>
                                <td colspan="4">10</td>
                                <td>$500.00</td>
                            </tr> -->
                        </tbody>
                    </table>
                    <div class="invoice-body-bottom">
                        <div class="invoice-body-info-item border-bottom">
                            <div class="info-item-td text-end text-bold">Phí vận chuyển Và VAT</div>
                            <div class="info-item-td text-end">@vat</div>
                        </div>
                        <div class="invoice-body-info-item border-bottom">
                            <div class="info-item-td text-end text-bold">Tổng Tiền</div>
                            <div class="info-item-td text-end">@String.Format("{0:0,0}", ViewBag.TongTien) VNĐ</div>
                        </div>
                        <div class="invoice-body-info-item border-bottom">
                            <div class="info-item-td text-end text-bold">
                                Ngày Giao Mong Muốn:
                                <p style="color:red; font-size:8px">*Có thể muộn 1 hoặc 2 ngày tùy nơi bạn sống hoặc nhận</p>
                            </div>
                            <div class="info-item-td text-end">

                                @using (Html.BeginForm(null, null, FormMethod.Post, new { id= "form-dat-hang"}))
                                {
                                    @Html.ValidationSummary(true)
                                    <input type="date" name="NgayGiao" />
                                    
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="float-right no-print" style=" margin-left: 35.8em; margin-top: 10px;">
                <input type="submit" form="form-dat-hang" value="Đồng Ý Đặt Hàng" class="my-button-invoice" />
                <p style="font-weight:bold; font-size:15px" class="no-print">Hoặc</p>
                <button type="button" class="my-button-invoice no-print">
                    <span class="no-print">
                        <a href="@Url.Action("Index", "Home")" class="no-print"><span class="glyphicon glyphicon-menu-left no-print" aria-hidden="true"></span>Hủy Đơn Hàng</a>
                    </span>
                </button>
            </div>
            <div class="invoice-foot text-center">



            </div>
            <div class="invoice-foot text-center">
                <p><span class="text-bold text-center">NOTE:&nbsp;</span>Đây là hóa đơn được tạo ra bằng máy tính, không yêu cầu có chữ ký vật lý</p>

                <div class="invoice-btns">
                    <button type="button" class="invoice-btn" onclick="printInvoice()">
                        <span>
                            <i class="fa-solid fa-print"></i>
                        </span>
                        <span>Print</span>
                    </button>
                    <button type="button" class="invoice-btn">
                        <span>
                            <i class="fa-solid fa-download"></i>
                        </span>
                        <span>Download</span>
                    </button>

                
                </div>
            </div>
        </div>
    </div>
</div>

    
<script src="~/Scripts/script.js"></script>

